#!/bin/zsh

# Share a screenshot on imgur.com

# Dependencies:
# - https://github.com/RanyAlbegWein/Imgur
# - scrot

# Optional Dependencies:
# - xclip
# - notify-send

if hash scrot 2> /dev/null; then
	filename=$(mktemp /tmp/screenshot-XXXXXXX.jpg)
	scrot $@ $filename &&
	url=$(imgur -f $filename)
	rm $filename
else
	echo "scrot not installed"
	exit 1
fi

if hash xclip 2> /dev/null; then
	echo "$url" | xclip -selection c
else
	echo $url
fi

if hash notify-send 2> /dev/null; then
	notify-send "URL Copied to clipboard!"
fi
