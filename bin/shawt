#!/bin/zsh

# Share a screenshot on imgur.com

# ---------------------------------
# Author:
# ---------------------------------
# Prajjwal Singh
# sin@prajjwal.com
# https://prajjwal.com/about.html

# Dependencies:
# - https://github.com/Prajjwal/dotfiles/blob/master/bin/teknik
# - scrot || screencapture

# Optional Dependencies:
# - xclip
# - notify-send

source "${0%/*}/include/util.sh"

ensure_presence_of teknik
SCREENSHOT_PROGRAM=$(ensure_presence_of_any scrot screencapture)

filename=$(mktemp -u /tmp/screenshot-XXXXXXX.jpg)
$SCREENSHOT_PROGRAM $@ $filename &&
url=$(teknik -o $filename)
rm $filename
